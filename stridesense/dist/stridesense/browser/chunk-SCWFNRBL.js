import{a as _,c as d}from"./chunk-KK6XF2YH.js";import{$ as g,B as a,Fa as I,H as k,Ja as z,O as x,P as M,Q as P,R as w,S as h,U as i,V as n,X as y,Y as b,Z as S,aa as o,ba as l,ca as v,ja as f,n as C,na as s,oa as c,p as u,q as O,wa as E,xa as R}from"./chunk-6PENZA43.js";import"./chunk-6TEROHPO.js";var $=(t,r)=>r.id;function B(t,r){t&1&&(i(0,"p"),o(1,"Calculando riesgo..."),n())}function L(t,r){t&1&&(i(0,"p",2),o(1),n()),t&2&&(a(),l(r))}function D(t,r){if(t&1&&(i(0,"li")(1,"span",9),o(2),n(),i(3,"span",5),o(4),n(),i(5,"span",4),o(6),s(7,"uppercase"),n()()),t&2){let e=r.$implicit;g(f("factor risk-",e.level)),a(2),l(e.label),a(2),l(e.score),a(2),l(c(7,6,e.level))}}function F(t,r){if(t&1&&(i(0,"div",3)(1,"div")(2,"span",4),o(3),s(4,"uppercase"),n(),i(5,"span",5),o(6),n()(),i(7,"p",6),o(8),n()(),i(9,"h2"),o(10,"Factores de riesgo"),n(),i(11,"ul",7),w(12,D,8,8,"li",8,$),n()),t&2){let e=r;a(),g(f("overall risk-",e.overallLevel)),a(2),l(c(4,6,e.overallLevel)),a(3),v("",e.overallScore," / 100"),a(2),v("Actualizado: ",e.generatedAt),a(4),h(e.factors)}}function A(t,r){if(t&1){let e=y();i(0,"p"),o(1,"No hay datos de riesgo disponibles."),n(),i(2,"button",10),b("click",function(){u(e);let m=S();return O(m.reload())}),o(3,"Calcular riesgo"),n()}}var T=class t{store=C(z);summary$=this.store.select(d.summary);loading$=this.store.select(d.loading);error$=this.store.select(d.error);ngOnInit(){this.store.dispatch(new _)}reload(){this.store.dispatch(new _)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-risk-overview"]],decls:12,vars:7,consts:[[1,"risk-overview"],["routerLink","/dashboard"],[1,"error"],[1,"risk-summary"],[1,"level"],[1,"score"],[1,"generated"],[1,"factors"],[3,"class"],[1,"label"],[3,"click"]],template:function(e,p){if(e&1&&(i(0,"div",0)(1,"a",1),o(2,"\u2190 Dashboard"),n(),i(3,"h1"),o(4,"Evaluaci\xF3n de Riesgo"),n(),x(5,B,2,0,"p"),s(6,"async"),s(7,"async"),s(8,"async"),M(9,L,2,1,"p",2)(10,F,14,8)(11,A,4,0),n()),e&2){let m;a(5),P(c(6,1,p.loading$)?5:(m=c(7,3,p.error$))?9:(m=c(8,5,p.summary$))?10:11,m)}},dependencies:[I,E,R],styles:[".risk-overview[_ngcontent-%COMP%]{padding:2rem}.risk-overview[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;margin-bottom:1.5rem;font-size:.875rem;color:#6366f1;text-decoration:none}.risk-overview[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}.risk-overview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.5rem}.risk-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:1.5rem 0 .75rem}.risk-overview[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ef4444}.risk-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;border:1px solid #e5e7eb;border-radius:.75rem;background-color:#fff}.risk-summary[_ngcontent-%COMP%]   .overall[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.25rem}.risk-summary[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.risk-summary[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.risk-summary[_ngcontent-%COMP%]   .generated[_ngcontent-%COMP%]{font-size:.8rem;color:#9ca3af}.factors[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:.5rem}.factor[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem 1rem;border:1px solid #e5e7eb;border-radius:.5rem;background-color:#fff}.factor[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{flex:1;font-weight:500}.factor[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.factor[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;min-width:56px;text-align:right}.risk-low[_ngcontent-%COMP%]{color:#16a34a}.risk-medium[_ngcontent-%COMP%]{color:#d97706}.risk-high[_ngcontent-%COMP%]{color:#dc2626}"]})};export{T as RiskOverviewComponent};
